"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var topPanel={show:function(e,t){var n='<div id="top-panel" class="top-panel '.concat(t,'">').concat(e,"</div>");null!==document.getElementById("top-panel")&&document.getElementById("top-panel").remove(),document.body.insertAdjacentHTML("afterbegin",n),this.hide()},hide:function(){setTimeout(function(){null!==document.getElementById("top-panel")&&document.getElementById("top-panel").remove()},3e3)},error:function(e){this.show(e,"panel-error")},success:function(e){this.show(e,"panel-success")},info:function(e){this.show(e,"panel-info")}},CART=[{name:"milk",qty:2,isBuy:!1,price:15,total:30},{name:"water",qty:2,isBuy:!0,price:20,total:40}],DISCOUNT=[{promo:"qwe",type:"fixed",value:15,isUsed:!1},{promo:"123",type:"percent",value:5,isUsed:!1}];function addToCart(t,e,n){var o,r;void 0===CART.find(function(e){return e.name===t})?(CART.push({name:t,qty:e,isBuy:!1,price:n,total:parseFloat((e*n).toFixed(2))}),topPanel.success("Product successfully added")):(o=CART.findIndex(function(e){return e.name===t}),r=CART[o].qty+e,CART[o].qty=r,CART[o].total=parseFloat((r*CART[o].price).toFixed(2)),topPanel.success("Quantity successfully changed")),viewCartTable()}function checkAndAddToCart(){var e=document.getElementById("product_name").value,t=parseInt(document.getElementById("product_qty").value),n=parseFloat(document.getElementById("product_price").value),o=!0;""===e&&(topPanel.error("Enter product name"),o=!1),isNaN(t)&&(topPanel.error("Enter quantity valid value"),o=!1),t<=0&&(topPanel.error("Quantity must be positive"),o=!1),isNaN(n)&&(topPanel.error("Enter price valid value"),o=!1),n<=0&&(topPanel.error("Price must be positive"),value=!1),o&&(addToCart(e,t,n),document.getElementById("product_name").value="",document.getElementById("product_qty").value="1",document.getElementById("product_price").value="")}function viewCartTable(){var t="";CART.sort(function(e,t){return Number(t.isBuy)-Number(e.isBuy)}),CART.forEach(function(e){t+="\n            <tr>\n                <td>".concat(e.name,"</td>\n                <td>").concat(e.isBuy?'<span class="badge bg-success">Yes</span>':'<span class="badge bg-danger">No</span>','\n                </td>\n                <td>\n                <button class="btn btn-info btn-sm"\n                onclick="changeProdQty(\'').concat(e.name,"', 'dec')\">-</button>\n                ").concat(e.qty,'\n                <button class="btn btn-info btn-sm"\n                onclick="changeProdQty(\'').concat(e.name,"', 'inc')\">+</button>\n                </td>\n                <td>").concat(e.price.toFixed(2),"</td>\n                <td>").concat(e.total.toFixed(2),'</td>\n                <td>\n                <button type="button" class="btn btn-primary" \n                onclick="changeProdStatus(\'').concat(e.name,'\')">\n                Change status\n                </button>\n                    <button type="button"\n                        class="btn btn-danger"\n                        onclick="askProductDelete(\'').concat(e.name,"')\">&times;\n                    </button>\n                </td>\n            </tr>\n        ")}),document.getElementById("cart-tbody").innerHTML=t,document.getElementById("cart-total").innerText=sumTotal().toFixed(2)}function sumTotal(){return CART.reduce(function(e,t){return e+t.total},0)}function askProductDelete(t){var e;confirm("Delete ".concat(t," ?"))&&(e=CART.findIndex(function(e){return e.name===t}),CART.splice(e,1),viewCartTable(),topPanel.info("Product successfully deleted"))}function changeProdStatus(t){var e=CART.findIndex(function(e){return e.name===t});CART[e].isBuy=!CART[e].isBuy,viewCartTable(),topPanel.info("Status changed")}function changeProdQty(t,e){var n=0,o=CART.findIndex(function(e){return e.name===t});if("inc"===e)n=CART[o].qty+1;else{if(!(2<=CART[o].qty))return askProductDelete(t),!1;n=CART[o].qty-1}CART[o].qty=n,CART[o].total=CART[o].price*n,viewCartTable()}function checkAndApplyDiscount(){var t=document.getElementById("discountField").value,e=DISCOUNT.findIndex(function(e){return e.promo===t}),n=DISCOUNT[e];if(""===t)return topPanel.error("Enter Promo code"),!1;if(-1===e)return topPanel.error("Promo code not found"),!1;if(n.isUsed)return topPanel.error("This promo is used"),!1;DISCOUNT[e].isUsed=!0;var o=calcDiscount(n);document.getElementById("discountValue").innerText=n.value+("fxed"===n.type?"uah":"%"),document.getElementById("totalWithDisc").innerText=o.toFixed(2),document.getElementById("discountField").value=""}function calcDiscount(e){var t=e.type,n=e.value,o=sumTotal();switch(t){case"fixed":return o-n;case"percent":return o-o/100*n}}viewCartTable();var btn=document.getElementById("btn");function btnHandler(){alert("helllo")}function btnHandler2(){alert("qwe")}btn.onclick=btnHandler;var liElements=document.querySelectorAll(".list li");function liColorChangeHandler(){console.log("clicked")}_toConsumableArray(liElements).forEach(function(e){e.onclick=liColorChangeHandler});var list=document.querySelector(".list"),newLi=document.createElement("li");function replace(e){var t=["a","A","e","E","i","I","o","O","u","U"];return e.split("").map(function(e){return t.includes(e)?"!":e}).join("")}newLi.innerHTML="Hello world",newLi.onclick=liColorChangeHandler,list.append(newLi),document.body.addEventListener("click",function(){console.log("click on body")}),console.log(replace("hI am an expert at this"));