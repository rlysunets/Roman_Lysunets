"use strict";var movieItem={props:["movie"],methods:{getMovieInfo:function(t){this.$emit("getMovie",t)},addToFavourites:function(t){this.$emit("addToFavourites",t)}},template:"#movieItem"},App={data:function(){return{API_KEY:"e6735353",search:"",selected:["Movie","Series"],select:"Movie",movieList:[],movieInfo:{},favourite:[],showModal:!1,storage:{}}},components:{movieItem:movieItem},created:function(){var t=localStorage.getItem("user_favourites");for(key in this.storage=JSON.parse(t),this.storage)this.favourite.push(this.storage[key])},methods:{searchMovie:function(){var o=this;""!==this.search?axios.get("https://www.omdbapi.com/?apikey=".concat(this.API_KEY,"&s=").concat(this.search,"&type=").concat(this.select)).then(function(t){"False"===t.data.Response?o.showInfo("Movie not found!"):o.movieList=t.data.Search,o.search=""}).catch(function(t){o.showInfo("".concat(t.code,". Try again later."))}):this.showInfo("Enter movie title.")},getMovieInfo:function(t){var o=this;axios.get("https://www.omdbapi.com/?apikey=".concat(this.API_KEY,"&i=").concat(t)).then(function(t){o.movieInfo=t.data,o.showMovieInfo()}).catch(function(t){o.showInfo(t.code)})},showMovieInfo:function(){this.showModal=!0},addToFavourites:function(o){var t,e=this.movieList.findIndex(function(t){return t.imdbID===o}),i=this.favourite.findIndex(function(t){return t.imdbID===o});-1===i?((t=this.movieList[e]).inFav=!0,this.favourite.push(t),this.showInfo("Added to favourite films.")):(this.favourite.splice(i,1),this.showInfo("Removed from favourite films.")),localStorage.setItem("user_favourites",JSON.stringify(this.favourite))},movieListWithFavourite:function(){var e=this,i=[];return this.movieList.forEach(function(o){var t=e.favourite.find(function(t){return o.imdbID===t.imdbID});o.inFav=void 0!==t,i.push(o)}),i},showInfo:function(t){var o="";o+='\n                    <div class="modal_overlay">\n                        <div class="my_modal text-bg-warning text-center fs-2">\n                            '.concat(t,"\n                        </div>\n                    </div>\n                "),document.body.insertAdjacentHTML("afterbegin",o),setTimeout(function(){document.querySelector(".modal_overlay").classList.add("none")},2e3)}}};Vue.createApp(App).mount("#app");